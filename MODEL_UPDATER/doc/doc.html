<style type="text/css">
    @font-face {
        font-family: "roboto";
        src: url("./Roboto/Roboto-Regular.ttf");
    }

    html{
        font-family:"roboto";
    }
</style>
<html>
    <h2 id="generationdesadaptersprotoviaeclipse">Generation des adapters/proto via eclipse</h2>
    <p><a href="https://www.eclipse.org/acceleo/">Lien vers Acceleo</a></p>
    <h3>Eclipse opening</h3>
    <p>Set the workspace like the following</p>
    <img src='ws.png'>
    <h3>Open project</h3>
    <ul>
        <li>Go to <i>File > Import > General > Existing Projects Into Workspace</i></li>
        <li>Select root directory like he following </li>
        <li><img src='config.png'></li>
        <li>Click <i>Finish</i></li>
    </ul>
    <h3>Configure Java Path</h3>
    <p>Right click on <i>gpvi.tools > Properties > Java Build Path ></i> Tab <i>Libraries</i></p>
    <p><i>Select JRE System Library</i>, click on <i>Edit</i></p>
    <p>Check <i>Execution environment</i>, click on <i>Environments</i></p>
    <p>Select <i>JavaSE-1.7</i> and check <i>jre-1.7</i></p>
    <div style="padding-left: 15px;">
        <p style="color: red;">If jre-1.7 is not present</p>
        <p>On the previous page, check <i>Alternate JRE</i>, click on <i>Installed JREs</i></p>
        <p>Click on <i>Add</i> > choose <i>Standard VM</i> > click on <i>Directory</i> > <i>/data/work/gitRepositories/LPISIS/GPCCHS/ECLIPSE_ACCELEO/jre-1.7</i> </p>
        <p>Restart the Configure Java Path section</p>
    </div>
    
    <h3>Configure build</h3>
    <p>Go to <i>Run > Run Configurations</i> and fill like the following</p>
    <img src='AcceloCOnf.jpg'>
    <p>Click <i>Run</i> to generate proto/adapters </p>
    <p>The outputs files are located in the path provided by <i>Target</i> in the configuration above</p>
    <p>Once generated, ths output folder goes to the adapters files a the root of client's GPCCHS repo</p>

    <h2>Troubleshoot</h2>
    <h3>Error ISIS_DESIGN</h3>
    <p>Sometimes the generator is just full of crap. Check if the registerPackages in Main.java is the following.</p>
    <div>
        <i>public void registerPackages(ResourceSet resourceSet) { <br>
            &nbsp;&nbsp;super.registerPackages(resourceSet); <br>
            &nbsp;&nbsp;if (!isInWorkspace(org.eclipse.uml2.uml.UMLPackage.class)) { <br>
                &nbsp;&nbsp;&nbsp;&nbsp;resourceSet.getPackageRegistry().put(org.eclipse.uml2.uml.UMLPackage.eINSTANCE.getNsURI(), org.eclipse.uml2.uml.UMLPackage.eINSTANCE); <br>
                &nbsp;&nbsp;} <br>
            <br>
            &nbsp;&nbsp;new GetProfilesConfig(resourceSet); <br>
        }<br></i>
    </div>
    <h3>Error configuration</h3>
    <p>In config.properties add the following</p>
    <div >
        <i>RSA_INSTALL_FOLDER=/data/work/gitRepositories/LPISIS/GPCCHS/ECLIPSE_ACCELEO</i>
    </div>
</html>

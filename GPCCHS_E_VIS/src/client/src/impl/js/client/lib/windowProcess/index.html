<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script>
      // https://github.com/electron/electron/issues/5224
      //const env = require('electron').remote.getGlobal('process').env;
      const env = require('electron').remote.getCurrentWindow().parameters;
       if (env.DEBUG) {
         localStorage.setItem('debug', env.DEBUG);
       }

      if (!env.HOT) {
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = '../../dist/style.css';
        document.write(link.outerHTML);
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script>
      const port = env.PORT || 3000;

      const bundle = document.createElement('script');
      bundle.src = (env.HOT) ? `http://localhost:${port}/dist/bundle.js` : '../../dist/bundle.js';
      document.write(bundle.outerHTML);

      global.env = env;
    </script>
  </body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../../node_modules/react-select/dist/react-select.css" />
    <link rel="stylesheet" href="../../node_modules/react-grid-layout/css/styles.css" />
    <link rel="stylesheet" href="../../node_modules/react-resizable/css/styles.css" />
    <script>

      // https://github.com/electron/electron/issues/5224
      const env = require('electron').remote.getGlobal('process').env;

      if (!env.HOT) {
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = '../dist/style.css';
        document.write(link.outerHTML);
      }

      // const remote = require('electron').remote;
      // const Menu = remote.Menu;
      // const MenuItem = remote.MenuItem;
      //
      // let menu = new Menu();
      // menu.append(new MenuItem({label:'coucou', click: function(){ console.log('coucou item click'); } }));
      // window.addEventListener('contextmenu', function(e) {
      //   e.preventDefault();
      //   menu.popup(remote.getCurrentWindow());
      // }, false);
      // 
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script>
      const port = env.PORT || 3000;

      const bundle = document.createElement('script');
      bundle.src = (env.HOT) ? `http://localhost:${port}/dist/bundle.js` : '../dist/bundle.js';
      document.write(bundle.outerHTML);

      global.env = env;
    </script>
  </body>
</html>
